DROP TABLE IF EXISTS res_address;

CREATE TABLE res_address (
  Res_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  Name VARCHAR(255) NOT NULL,
  Street_Name VARCHAR(255) NOT NULL,
  House_Number VARCHAR(50) NOT NULL
);

DROP TABLE IF EXISTS student;

CREATE TABLE student (
  Stud_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  StudentNo VARCHAR(255) NOT NULL UNIQUE,
  Name VARCHAR(255) NOT NULL,
  Surname VARCHAR(255) NOT NULL,
  ContactDetails VARCHAR(255) NOT NULL,
  Res_ID INT,
  FOREIGN KEY (Res_ID) REFERENCES res_address(Res_ID)
);

DROP TABLE IF EXISTS driver;

CREATE TABLE driver (
  Driver_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  Name VARCHAR(255) NOT NULL,
  Surname VARCHAR(255) NOT NULL,
  AvailabilityStatus VARCHAR(50) NOT NULL,
  License VARCHAR(255) NOT NULL UNIQUE
);

DROP TABLE IF EXISTS vehicle;

CREATE TABLE vehicle (
  Vehicle_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  Model VARCHAR(255) NOT NULL,
  Plate_Number VARCHAR(255) NOT NULL UNIQUE,
  Capacity INT NOT NULL,
  Driver_ID INT NOT NULL,
  FOREIGN KEY (Driver_ID) REFERENCES driver(Driver_ID)
);

DROP TABLE IF EXISTS request;

CREATE TABLE request (
  Request_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  PickupLocation VARCHAR(255) NOT NULL,
  Destination VARCHAR(255) NOT NULL,
  RequestStatus VARCHAR(50) NOT NULL,
  Stud_ID INT NOT NULL,
  Driver_ID INT,
  FOREIGN KEY (Stud_ID) REFERENCES student(Stud_ID),
  FOREIGN KEY (Driver_ID) REFERENCES driver(Driver_ID)
);